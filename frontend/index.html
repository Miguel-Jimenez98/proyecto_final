<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Plataforma de Microredes HÃ­bridas</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <header class="hero">
    <div class="overlay">
      <div>
        <h1>ğŸŒ Plataforma de Microredes HÃ­bridas</h1>
        <p class="subtitulo">Simula, diseÃ±a y aprende sobre energÃ­as limpias</p>
      </div>
    </div>
  </header>



  <section id="chatbot" class="chatbox">
    <div class="titulo-chatbot">
      <img src="https://cdn-icons-png.flaticon.com/512/4712/4712106.png" alt="Robot Icon" class="icono-titulo">
      <h2>Asistente Inteligente de EnergÃ­a</h2>
    </div>
    <input type="text" id="userInput" placeholder="Escribe tu pregunta aquÃ­...">
    <button onclick="sendQuestion()">Enviar</button>
    <div id="chatResponse"></div>
    <!-- GuÃ­a para el chatbot -->
    <div class="guia-chatbot">
      <h4>ğŸ’¡ Preguntas frecuentes:</h4>
      <ul>
        <li>Â¿QuÃ© es una microred hÃ­brida?</li>
        <li>Â¿QuÃ© es la energÃ­a azul?</li>
        <li>Â¿QuÃ© tipo de baterÃ­a me conviene?</li>
        <li>Â¿CÃºal fuente es mejor solar o eÃ³lica?</li>
        <li>Â¿CÃ³mo saber si mi zona es apta para solar?</li>
        <li>Â¿QuÃ© tipo de instalaciÃ³n me recomiendas para un puesto de salud?</li>
      </ul>
    </div>
  </section>

<section id="formulario" class="simulador-box">
  <h2>âš¡ DiseÃ±a tu Microred</h2>
  <form id="designForm">
    <label>UbicaciÃ³n:</label>
    <input type="text" name="location" required><br>

    <label>Consumo diario (kWh):</label>
    <input type="number" name="consumo" step="any"><br>

    <label>Perfil de instalaciÃ³n (opcional):</label>
    <select name="perfil">
      <option value="">-- Selecciona un perfil --</option>
      <option value="casa">Casa</option>
      <option value="escuela">Escuela</option>
      <option value="finca">Finca</option>
      <option value="negocio">Negocio</option>
      <option value="salud">Centro de Salud</option>
    </select><br>

    <label>
      <input type="checkbox" id="incluirAutonomia"> Incluir autonomÃ­a energÃ©tica
    </label><br>

    <label id="diasAutonomiaLabel" style="display:none;">
      DÃ­as de autonomÃ­a:
      <input type="number" id="diasAutonomia" name="autonomia" min="1" value="2">
    </label><br>

    <button type="submit">Simular</button>
  </form>

  <div id="resultadoSimulacion"></div>

  <!-- BotÃ³n y contenedor del grÃ¡fico de Costos -->
  <div style="margin-top: 20px; text-align: center;">
    <button type="button" onclick="toggleGrafico('graficoCostos')">ğŸ“Š Ver/ocultar grÃ¡fico de Costos</button>
    <div id="contenedorCostos" style="display: none; margin-top: 10px;">
      <canvas id="graficoCostos" class="grafico-centro"></canvas>
    </div>
  </div>

<!-- BotÃ³n y contenedor del grÃ¡fico de ContribuciÃ³n -->
  <div style="margin-top: 20px; text-align: center;">
    <button type="button" onclick="toggleGrafico('graficoContribucion')">ğŸ”„ Ver/ocultar grÃ¡fico por Fuente</button>
    <div id="contenedorContribucion" style="display: none; margin-top: 10px;">
      <canvas id="graficoContribucion" class="grafico-centro"></canvas>
    </div>
  </div>


  <!-- GuÃ­a para el simulador -->
  <div class="guia-simulador">
    <h4>ğŸ›  CÃ³mo usar el simulador:</h4>
    <ul>
      <li>Ingresa el nombre de una zona (ej. La Guajira).</li>
      <li>Indica tu consumo diario en kWh (opcional).</li>
      <li>Selecciona el tipo de instalaciÃ³n si lo conoces.</li>
      <li>Activa la autonomÃ­a si deseas que el sistema funcione dÃ­as sin sol/viento.</li>
      <li>Haz clic en "Simular" para ver las recomendaciones.</li>
    </ul>
  </div>

</section>

  <script>
  // Asegura que todo el DOM estÃ© cargado antes de ejecutar cualquier lÃ³gica
    document.addEventListener("DOMContentLoaded", () => {
    // Listener para mostrar el campo de dÃ­as de autonomÃ­a
      document.getElementById("incluirAutonomia").addEventListener("change", function () {
        document.getElementById("diasAutonomiaLabel").style.display = this.checked ? "block" : "none";
    });
    // FunciÃ³n para alternar visibilidad de grÃ¡ficos
      window.toggleGrafico = function(id) {
        const contenedor = document.getElementById(
          id === "graficoCostos" ? "contenedorCostos" : "contenedorContribucion"
        );
        contenedor.style.display = contenedor.style.display === "none" ? "block" : "none";
      };
    });
  </script>

<!-- Scripts finales cargados despuÃ©s de asegurar el DOM -->
<script src="chatbot.js"></script>
<script src="diseÃ±o.js"></script>

</body>
</html>
